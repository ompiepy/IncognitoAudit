(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6139:function(e,t,s){Promise.resolve().then(s.bind(s,7460))},7460:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ComplianceDashboard}});var i=s(7437),n=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let s=(0,n.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:r,children:c,...d},o)=>(0,n.createElement)("svg",{ref:o,...a,width:i,height:i,stroke:s,strokeWidth:r?24*Number(l)/Number(i):l,className:`lucide lucide-${toKebabCase(e)}`,...d},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...(Array.isArray(c)?c:[c])||[]]));return s.displayName=`${e}`,s},l=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),r=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),c=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),d=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),m=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function ComplianceDashboard(){let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[x,h]=(0,n.useState)([]),[u,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{let loadEmployeeData=async()=>{try{a(!0);let e=await fetch("/api/employees");if(e.ok){let s=await e.json();t(s)}else console.warn("API not available, using fallback data"),t([{id:"EMP001",name:"Alice Johnson",department:"IT Security",status:"compliant",lastAudit:new Date(Date.now()-2592e6).toISOString().split("T")[0],trainingScore:92},{id:"EMP002",name:"Bob Smith",department:"Human Resources",status:"compliant",lastAudit:new Date(Date.now()-5184e6).toISOString().split("T")[0],trainingScore:85},{id:"EMP003",name:"Carol Davis",department:"Finance",status:"non-compliant",lastAudit:new Date(Date.now()-3456e7).toISOString().split("T")[0],trainingScore:78}])}catch(e){console.error("Error loading employee data:",e),t([{id:"EMP001",name:"Alice Johnson",department:"IT Security",status:"compliant",lastAudit:new Date(Date.now()-2592e6).toISOString().split("T")[0],trainingScore:92},{id:"EMP002",name:"Bob Smith",department:"Human Resources",status:"compliant",lastAudit:new Date(Date.now()-5184e6).toISOString().split("T")[0],trainingScore:85},{id:"EMP003",name:"Carol Davis",department:"Finance",status:"non-compliant",lastAudit:new Date(Date.now()-3456e7).toISOString().split("T")[0],trainingScore:78}])}finally{a(!1)}};loadEmployeeData()},[]);let runComplianceAudit=async s=>{p(!0),f(s),t(e=>e.map(e=>e.id===s?{...e,status:"pending"}:e));try{await new Promise(e=>setTimeout(e,1500+1e3*Math.random()));let i=e.find(e=>e.id===s),n=(null==i?void 0:i.trainingScore)&&i.trainingScore>=80&&new Date(i.lastAudit)>new Date(Date.now()-31536e6),a={employeeId:s,success:n||!1,transactionHash:n?"0x".concat(Math.random().toString(16).substring(2,66)):void 0,proofHash:Math.random().toString(16).substring(2,18),verificationTime:800+Math.floor(500*Math.random()),error:n?void 0:"Training requirements not met",timestamp:Date.now()};h(e=>[a,...e]),t(e=>e.map(e=>e.id===s?{...e,status:a.success?"compliant":"non-compliant",lastAudit:new Date().toISOString().split("T")[0]}:e))}catch(e){console.error("Audit failed:",e)}finally{p(!1),f(null)}},getStatusBadge=e=>{switch(e){case"compliant":return(0,i.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,i.jsx)(l,{className:"w-3 h-3 mr-1"}),"Compliant"]});case"non-compliant":return(0,i.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,i.jsx)(r,{className:"w-3 h-3 mr-1"}),"Non-Compliant"]});case"pending":return(0,i.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,i.jsx)(c,{className:"w-3 h-3 mr-1 animate-spin"}),"Auditing..."]});default:return null}},j={total:e.length,compliant:e.filter(e=>"compliant"===e.status).length,nonCompliant:e.filter(e=>"non-compliant"===e.status).length,pending:e.filter(e=>"pending"===e.status).length};return s?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-midnight-900 via-midnight-800 to-midnight-700 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-midnight-300 mx-auto mb-4"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading Compliance Data"}),(0,i.jsx)("p",{className:"text-midnight-300",children:"Connecting to Midnight Protocol..."})]})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-midnight-900 via-midnight-800 to-midnight-700 p-6",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,i.jsx)(d,{className:"w-8 h-8 text-blue-400"}),(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"ZK Compliance Auditor"})]}),(0,i.jsx)("p",{className:"text-midnight-300 text-lg",children:"Zero-knowledge compliance verification using Midnight Protocol"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,i.jsx)("div",{className:"glass-effect rounded-lg p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o,{className:"w-8 h-8 text-blue-400 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-midnight-300 text-sm",children:"Total Employees"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-white",children:j.total})]})]})}),(0,i.jsx)("div",{className:"glass-effect rounded-lg p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(l,{className:"w-8 h-8 text-green-400 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-midnight-300 text-sm",children:"Compliant"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-white",children:j.compliant})]})]})}),(0,i.jsx)("div",{className:"glass-effect rounded-lg p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(r,{className:"w-8 h-8 text-red-400 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-midnight-300 text-sm",children:"Non-Compliant"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-white",children:j.nonCompliant})]})]})}),(0,i.jsx)("div",{className:"glass-effect rounded-lg p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c,{className:"w-8 h-8 text-yellow-400 mr-3"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-midnight-300 text-sm",children:"Pending Audits"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-white",children:j.pending})]})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"glass-effect rounded-lg p-6",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[(0,i.jsx)(o,{className:"w-5 h-5 mr-2"}),"Employee Compliance Status"]}),(0,i.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,i.jsxs)("div",{className:"bg-midnight-800/50 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-midnight-300",children:e.department})]}),getStatusBadge(e.status)]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"text-sm text-midnight-400",children:["Last Audit: ",e.lastAudit,e.trainingScore&&(0,i.jsxs)("span",{className:"ml-2",children:["Score: ",e.trainingScore,"%"]})]}),(0,i.jsxs)("button",{onClick:()=>runComplianceAudit(e.id),disabled:u||"pending"===e.status,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-midnight-600  disabled:cursor-not-allowed text-white text-sm rounded-lg transition-colors flex items-center space-x-2",children:[(0,i.jsx)(m,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:g===e.id?"Generating Proof...":"Run ZK Audit"})]})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"glass-effect rounded-lg p-6",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[(0,i.jsx)(d,{className:"w-5 h-5 mr-2"}),"Recent Audit Results"]}),(0,i.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===x.length?(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)(m,{className:"w-12 h-12 text-midnight-400 mx-auto mb-3"}),(0,i.jsx)("p",{className:"text-midnight-400",children:"No audits run yet"}),(0,i.jsx)("p",{className:"text-sm text-midnight-500",children:'Click "Run ZK Audit" to start'})]}):x.map((e,t)=>(0,i.jsxs)("div",{className:"bg-midnight-800/50 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"font-medium text-white",children:["Employee ",e.employeeId]}),(0,i.jsx)("p",{className:"text-sm text-midnight-300",children:new Date(e.timestamp).toLocaleString()})]}),e.success?(0,i.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✅ Verified"}):(0,i.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"❌ Failed"})]}),(0,i.jsxs)("div",{className:"text-sm text-midnight-400 space-y-1",children:[(0,i.jsxs)("div",{children:["Proof Hash: ",(0,i.jsx)("code",{className:"text-midnight-300",children:e.proofHash})]}),e.transactionHash&&(0,i.jsxs)("div",{children:["TX Hash: ",(0,i.jsxs)("code",{className:"text-midnight-300",children:[e.transactionHash.substring(0,20),"..."]})]}),(0,i.jsxs)("div",{children:["Verification Time: ",e.verificationTime,"ms"]}),e.error&&(0,i.jsxs)("div",{className:"text-red-400",children:["Error: ",e.error]})]})]},t))})]})]}),(0,i.jsx)("div",{className:"mt-8 glass-effect rounded-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,i.jsxs)("p",{className:"text-midnight-300 text-sm",children:["\uD83D\uDD10 ",(0,i.jsx)("strong",{children:"Production Mode:"})," This dashboard uses real cryptographic proofs generated using the Midnight Protocol. All compliance verifications are cryptographically secure and privacy-preserving."]})]})})]})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=s(2265),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var i,c={},d=null,o=null;for(i in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(o=t.ref),t)a.call(t,i)&&!r.hasOwnProperty(i)&&(c[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===c[i]&&(c[i]=t[i]);return{$$typeof:n,type:e,key:d,ref:o,props:c,_owner:l.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6139)}),_N_E=e.O()}]);